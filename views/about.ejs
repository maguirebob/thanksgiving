<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="text-center mb-5">
                <h1 class="main-title">About the Thanksgiving Menu Collection</h1>
                <p class="lead text-muted">Preserving family memories through decades of Thanksgiving celebrations</p>
            </div>

            <div class="content-section mb-5">
                <h2 class="section-title">About This Website</h2>
                <p class="text-muted">
                    This website was created to digitally preserve and share our family's Thanksgiving menu collection, spanning from 1994 to today. Each menu tells a story of the year, the family members who gathered, and the traditions that have been passed down through generations.
                </p>
                <p class="text-muted">
                    Built with modern web technologies including TypeScript, Express.js, and Prisma ORM, this application ensures that these precious memories are preserved for future generations while being easily accessible to family members around the world.
                </p>
            </div>

            <div class="content-section mb-5">
                <h2 class="section-title">Technical Details</h2>
                <div class="row">
                    <div class="col-md-6">
                        <h4>Frontend</h4>
                        <ul class="list-unstyled text-muted">
                            <li>• Bootstrap 5 for responsive design</li>
                            <li>• EJS templating engine</li>
                            <li>• Custom CSS for family branding</li>
                            <li>• Mobile-first responsive layout</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Backend</h4>
                        <ul class="list-unstyled text-muted">
                            <li>• TypeScript for type safety</li>
                            <li>• Express.js web framework</li>
                            <li>• Prisma ORM for database access</li>
                            <li>• PostgreSQL database</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="content-section mb-5">
                <h2 class="section-title">Application Information</h2>
                <div class="row">
                    <div class="col-md-6">
                        <h4>Version History</h4>
                        <ul class="list-unstyled text-muted">
                            <li><strong>v2.0.0</strong> - TypeScript Migration (Dec 2024)</li>
                            <li><strong>v1.0.0</strong> - Original JavaScript/Sequelize</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Current Status</h4>
                        <ul class="list-unstyled text-muted">
                            <li><strong>Version:</strong> <%= typeof version !== 'undefined' ? version : '2.0.0' %></li>
                            <li><strong>Environment:</strong> <%= typeof environment !== 'undefined' ? environment : 'production' %></li>
                            <li><strong>Build Date:</strong> <%= typeof buildDate !== 'undefined' ? buildDate : 'December 2024' %></li>
                            <li><strong>Database:</strong> 
                                <% if (typeof dbStatus !== 'undefined') { %>
                                    <% if (dbStatus === 'healthy') { %>
                                        <span class="badge bg-success">Healthy</span>
                                    <% } else if (dbStatus === 'warning') { %>
                                        <span class="badge bg-warning text-dark">Warning</span>
                                    <% } else { %>
                                        <span class="badge bg-danger">Error</span>
                                    <% } %>
                                <% } else { %>
                                    <span class="badge bg-secondary">Unknown</span>
                                <% } %>
                            </li>
                        </ul>
                        <% if (typeof dbMessage !== 'undefined') { %>
                            <div class="mt-2">
                                <small class="text-muted"><%= dbMessage %></small>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>

            <% if (typeof dbDetails !== 'undefined' && dbDetails) { %>
            <div class="content-section mb-5">
                <h2 class="section-title">Database Verification Details</h2>
                <div class="row">
                    <div class="col-md-6">
                        <h4>Schema Status</h4>
                        <ul class="list-unstyled">
                            <li><strong>Verification Time:</strong> <small class="text-muted"><%= new Date(dbDetails.timestamp).toLocaleString() %></small></li>
                            <li><strong>Tables Found:</strong> <span class="badge bg-info"><%= dbDetails.schema.tables.length %></span></li>
                            <% if (dbDetails.errors.length > 0) { %>
                                <li><strong>Errors:</strong> <span class="badge bg-danger"><%= dbDetails.errors.length %></span></li>
                            <% } %>
                            <% if (dbDetails.warnings.length > 0) { %>
                                <li><strong>Warnings:</strong> <span class="badge bg-warning text-dark"><%= dbDetails.warnings.length %></span></li>
                            <% } %>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Tables</h4>
                        <div class="small text-muted">
                            <% dbDetails.schema.tables.forEach(function(table) { %>
                                <div class="mb-1">
                                    <strong><%= table %></strong>
                                    <% if (dbDetails.schema.columns[table]) { %>
                                        <span class="badge bg-secondary ms-1"><%= dbDetails.schema.columns[table].length %> cols</span>
                                    <% } %>
                                </div>
                            <% }); %>
                        </div>
                    </div>
                </div>
                
                <% if (dbDetails.errors.length > 0) { %>
                <div class="mt-3">
                    <h5 class="text-danger">Errors:</h5>
                    <ul class="list-unstyled">
                        <% dbDetails.errors.forEach(function(error) { %>
                            <li class="text-danger"><i class="fas fa-times-circle me-2"></i><%= error %></li>
                        <% }); %>
                    </ul>
                </div>
                <% } %>
                
                <% if (dbDetails.warnings.length > 0) { %>
                <div class="mt-3">
                    <h5 class="text-warning">Warnings:</h5>
                    <ul class="list-unstyled">
                        <% dbDetails.warnings.forEach(function(warning) { %>
                            <li class="text-warning"><i class="fas fa-exclamation-triangle me-2"></i><%= warning %></li>
                        <% }); %>
                    </ul>
                </div>
                <% } %>
            </div>
            <% } %>

            <div class="content-section mb-5">
                <h2 class="section-title">Contact & Support</h2>
                <p class="text-muted">
                    This website is maintained by the Maguire family. If you have questions about the collection or would like to contribute additional menus or photos, please reach out through the family channels.
                </p>
            </div>

            <div class="text-center mt-5">
                <a href="/" class="btn btn-primary btn-lg">
                    <i class="fas fa-home me-2"></i>Back to Menu Collection
                </a>
            </div>
        </div>
    </div>
</div>
