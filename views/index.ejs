<!-- Hero Section -->
<div class="text-center mb-5">
    <h1 class="main-title">
        <%= typeof title !== 'undefined' ? title : 'Thanksgiving Menus Through the Years' %>
    </h1>
    <p class="lead text-muted">A collection of Thanksgiving menus from 1994 to today</p>
</div>

<!-- Stats Section -->
<div class="stats-section">
    <div class="container">
        <h2 class="section-title text-center">Collection Overview</h2>
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-number"><%= events ? events.length : 0 %></span>
                <div class="stat-label">Total Menus</div>
            </div>
            <div class="stat-item">
                <span class="stat-number"><%= events && events.length > 0 ? new Date(events[events.length - 1].event_date).getFullYear() : 'N/A' %></span>
                <div class="stat-label">Earliest Year</div>
            </div>
            <div class="stat-item">
                <span class="stat-number"><%= events && events.length > 0 ? new Date(events[0].event_date).getFullYear() : 'N/A' %></span>
                <div class="stat-label">Latest Year</div>
            </div>
            <div class="stat-item">
                <span class="stat-number"><%= events && events.length > 0 ? (new Date(events[0].event_date).getFullYear() - new Date(events[events.length - 1].event_date).getFullYear() + 1) : 0 %></span>
                <div class="stat-label">Years Spanned</div>
            </div>
        </div>
    </div>
</div>

<!-- Featured Menu (Latest) -->
<% if (events && events.length > 0) { %>
    <div class="featured-menu">
        <div class="menu-image-container">
            <img src="/images/<%= events[0].menu_image_filename %>" 
                 alt="<%= events[0].menu_title %>" 
                 class="menu-image"
                 onerror="this.src='/images/placeholder-menu.jpg'">
        </div>
        <div class="menu-content">
            <div class="menu-date"><%= new Date(events[0].event_date).toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            }) %></div>
            <h2 class="menu-title"><%= events[0].menu_title %></h2>
            <div class="menu-location"><%= events[0].event_location %></div>
            <p class="menu-description"><%= events[0].event_description %></p>
            <a href="/menu/<%= events[0].event_id %>" class="btn-view-details">
                View Full Menu
            </a>
        </div>
    </div>
<% } %>

<!-- All Menus Grid -->
<% if (events && events.length > 0) { %>
    <h2 class="section-title">All Thanksgiving Menus</h2>
    <div class="menu-grid">
        <% events.forEach(function(event, index) { %>
            <% if (index > 0) { %> <!-- Skip first item as it's featured above -->
                <div class="menu-card">
                    <div class="menu-image-container">
                        <img src="/images/<%= event.menu_image_filename %>" 
                             alt="<%= event.menu_title %>" 
                             class="menu-image"
                             onerror="this.src='/images/placeholder-menu.jpg'">
                    </div>
                    <div class="menu-content">
                        <div class="menu-date"><%= new Date(event.event_date).toLocaleDateString('en-US', { 
                            weekday: 'long', 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        }) %></div>
                        <h3 class="menu-title"><%= event.menu_title %></h3>
                        <div class="menu-location"><%= event.event_location %></div>
                        <p class="menu-description"><%= event.event_description %></p>
                        <a href="/menu/<%= event.event_id %>" class="btn-view-details">
                            View Details
                        </a>
                    </div>
                </div>
            <% } %>
        <% }); %>
    </div>
<% } else { %>
    <div class="error-container">
        <div class="error-card">
            <div class="error-icon">
                <i class="fas fa-utensils"></i>
            </div>
            <h2 class="error-title">No Menus Found</h2>
            <p class="error-message">There are no Thanksgiving menus in the collection yet.</p>
        </div>
    </div>
<% } %>

<!-- Newsletter Signup Section (LA Times style) -->
<div class="stats-section">
    <div class="container text-center">
        <h2 class="section-title">Stay Updated</h2>
        <p class="lead text-muted mb-4">Get notified when new menus are added to the collection</p>
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="input-group">
                    <input type="email" class="form-control" placeholder="Enter your email address" aria-label="Email address">
                    <button class="btn btn-dark" type="button">Subscribe</button>
                </div>
                <small class="text-muted mt-2 d-block">We'll never share your email with anyone else.</small>
            </div>
        </div>
    </div>
</div>